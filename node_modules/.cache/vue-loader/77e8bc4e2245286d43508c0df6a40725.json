{"remainingRequest":"D:\\JK2L2\\BUCKET\\S2S_IBAS\\materialpro-vuetify-main\\materialpro-vuetify-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JK2L2\\BUCKET\\S2S_IBAS\\materialpro-vuetify-main\\materialpro-vuetify-main\\src\\views\\auth\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JK2L2\\BUCKET\\S2S_IBAS\\materialpro-vuetify-main\\materialpro-vuetify-main\\src\\views\\auth\\Login.vue","mtime":1643206374299},{"path":"D:\\JK2L2\\BUCKET\\S2S_IBAS\\materialpro-vuetify-main\\materialpro-vuetify-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641976741849},{"path":"D:\\JK2L2\\BUCKET\\S2S_IBAS\\materialpro-vuetify-main\\materialpro-vuetify-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1641976744103},{"path":"D:\\JK2L2\\BUCKET\\S2S_IBAS\\materialpro-vuetify-main\\materialpro-vuetify-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641976741849},{"path":"D:\\JK2L2\\BUCKET\\S2S_IBAS\\materialpro-vuetify-main\\materialpro-vuetify-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1641976744723}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJMb2dpbiIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgc2hvd1Bhc3N3b3JkOiBmYWxzZSwNCiAgICAgIHVzZXJuYW1lOiAiIiwNCiAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIHJlcXVpcmVkOiBbKHZhbHVlKSA9PiAhIXZhbHVlIHx8ICJSZXF1aXJlZC4iXSwNCiAgICAgIH0sDQogICAgfTsNCiAgfSwNCg0KICBwcm9wczogew0KICAgIHNvdXJjZTogU3RyaW5nLA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgbG9naW4oKSB7DQogICAgICBpZiAoIXRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7DQogICAgICBsZXQgdXNlcm5hbWUgPSB0aGlzLnVzZXJuYW1lOw0KICAgICAgbGV0IHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZDsNCiAgICAgIGNvbnN0IGRhdGEgPSB7DQogICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwNCiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLA0KICAgICAgfTsNCg0KICAgICAgdGhpcy4kc3RvcmUNCiAgICAgICAgLmRpc3BhdGNoKCJsb2dpbiIsIGRhdGEpDQogICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICAvL2lmICgNCiAgICAgICAgICAgLy8gdGhpcy4kc3RvcmUuZ2V0dGVycy51c2VyUm9sZSA9PT0gIkFETUlOIiB8fA0KICAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXJSb2xlID09PSAiUkVTQkFLVU5BIg0KICAgICAgICAgIC8vKSB7DQogICAgICAgICAgLy8gIHRoaXMuJHJvdXRlci5wdXNoKCIvYWRtaW4iKTsNCiAgICAgICAgICAvL30gZWxzZSBpZiAodGhpcy4kc3RvcmUuZ2V0dGVycy51c2VyUm9sZSA9PT0gIlZBTElEQVRPUiIpIHsNCiAgICAgICAgICAvLyAgdGhpcy4kcm91dGVyLnB1c2goIi92YWxpZGF0b3IiKTsNCiAgICAgICAgICAvL30gZWxzZSB7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2FkbWluIik7DQogICAgICAgICAgLy99DQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgYWxlcnQoZXJyKTsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICB9LA0KDQogIGNyZWF0ZWQoKSB7DQogICAgLy8gY29uc29sZS5sb2codGhpcy4kc3RvcmUuZ2V0dGVycy5pc0xvZ2dlZEluKQ0KICAgIGlmICh0aGlzLiRzdG9yZS5nZXR0ZXJzLmlzTG9nZ2VkSW4pIHsNCiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IGAvJHt0aGlzLnVzZXJSb2xlLnRvTG93ZXJDYXNlKCl9YCB9KTsNCiAgICB9DQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICB1c2VyUm9sZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXJSb2xlOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/auth","sourcesContent":["<template>\r\n  <v-main>\r\n    <v-container fluid fill-height>\r\n      <v-layout align-center justify-center>\r\n        <v-flex xs12 sm8 md4>\r\n          <v-card class=\"elevation-12\">\r\n            <v-toolbar dark color=\"primary\">\r\n              <v-toolbar-title>Login form</v-toolbar-title>\r\n            </v-toolbar>\r\n            <v-card-text>\r\n              <v-form ref=\"form\" lazy-validation>\r\n                <v-text-field\r\n                  prepend-icon=\"mdi-account\"\r\n                  label=\"Login\"\r\n                  type=\"text\"\r\n                  v-model=\"username\"\r\n                  :rules=\"rules.required\"\r\n                ></v-text-field>\r\n                <v-text-field\r\n                  id=\"password\"\r\n                  :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                  prepend-icon=\"mdi-lock\"\r\n                  label=\"Password\"\r\n                  :type=\"showPassword ? 'text' : 'password'\"\r\n                  v-model=\"password\"\r\n                  :rules=\"rules.required\"\r\n                  @click:append=\"showPassword = !showPassword\"\r\n                ></v-text-field>\r\n              </v-form>\r\n            </v-card-text>\r\n            <v-card-actions class=\"pb-10\">\r\n              <v-spacer></v-spacer>\r\n              <v-btn\r\n                color=\"primary\"\r\n                class=\"px-5\"\r\n                @click=\"login\"\r\n                :disabled=\"loading\"\r\n              >\r\n                <v-progress-circular\r\n                  v-if=\"loading\"\r\n                  indeterminate\r\n                  class=\"mr-2\"\r\n                ></v-progress-circular>\r\n                <span v-if=\"!loading\">Login</span>\r\n                <span v-if=\"loading\">Logging in</span>\r\n              </v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-container>\r\n  </v-main>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      showPassword: false,\r\n      username: \"\",\r\n      password: \"\",\r\n      rules: {\r\n        required: [(value) => !!value || \"Required.\"],\r\n      },\r\n    };\r\n  },\r\n\r\n  props: {\r\n    source: String,\r\n  },\r\n  methods: {\r\n    login() {\r\n      if (!this.$refs.form.validate()) {\r\n        return false;\r\n      }\r\n      this.loading = true;\r\n      let username = this.username;\r\n      let password = this.password;\r\n      const data = {\r\n        username: username,\r\n        password: password,\r\n      };\r\n\r\n      this.$store\r\n        .dispatch(\"login\", data)\r\n        .then(() => {\r\n          //if (\r\n           // this.$store.getters.userRole === \"ADMIN\" ||\r\n           // this.$store.getters.userRole === \"RESBAKUNA\"\r\n          //) {\r\n          //  this.$router.push(\"/admin\");\r\n          //} else if (this.$store.getters.userRole === \"VALIDATOR\") {\r\n          //  this.$router.push(\"/validator\");\r\n          //} else {\r\n            this.$router.push(\"/admin\");\r\n          //}\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          alert(err);\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n\r\n  created() {\r\n    // console.log(this.$store.getters.isLoggedIn)\r\n    if (this.$store.getters.isLoggedIn) {\r\n      return this.$router.push({ path: `/${this.userRole.toLowerCase()}` });\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    userRole() {\r\n      return this.$store.getters.userRole;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]}]}