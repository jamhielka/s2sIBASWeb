{"remainingRequest":"C:\\Users\\Jacky\\Downloads\\materialpro-vuetify-main\\materialpro-vuetify-main\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Jacky\\Downloads\\materialpro-vuetify-main\\materialpro-vuetify-main\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Jacky\\Downloads\\materialpro-vuetify-main\\materialpro-vuetify-main\\src\\store\\modules\\AuthModule.js","dependencies":[{"path":"C:\\Users\\Jacky\\Downloads\\materialpro-vuetify-main\\materialpro-vuetify-main\\src\\store\\modules\\AuthModule.js","mtime":1643275861485},{"path":"C:\\Users\\Jacky\\Downloads\\materialpro-vuetify-main\\materialpro-vuetify-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641976741849},{"path":"C:\\Users\\Jacky\\Downloads\\materialpro-vuetify-main\\materialpro-vuetify-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1641976744103},{"path":"C:\\Users\\Jacky\\Downloads\\materialpro-vuetify-main\\materialpro-vuetify-main\\node_modules\\eslint-loader\\index.js","mtime":1641976742144}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgc3RhdHVzOiAiIiwKICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSB8fCAiIiwKICAgIHVzZXI6ICcnLAogICAgcm9sZTogJycsCiAgICBwYXJ0bmVyOiAnJwogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBhdXRoX3JlcXVlc3Q6IGZ1bmN0aW9uIGF1dGhfcmVxdWVzdChzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSAibG9hZGluZyI7CiAgICB9LAogICAgYXV0aF9zdWNjZXNzOiBmdW5jdGlvbiBhdXRoX3N1Y2Nlc3Moc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gInN1Y2Nlc3MiOwogICAgICBzdGF0ZS50b2tlbiA9IHBheWxvYWQubWVzc2FnZTsKICAgICAgc3RhdGUudXNlciA9IHBheWxvYWQudXNlcm5hbWU7CiAgICAgIHN0YXRlLnJvbGUgPSBwYXlsb2FkLnVyb2xlOwogICAgICBzdGF0ZS5wYXJ0bmVyID0gcGF5bG9hZC5wYXJ0bmVyOwogICAgfSwKICAgIGF1dGhfZXJyb3I6IGZ1bmN0aW9uIGF1dGhfZXJyb3Ioc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gImVycm9yIjsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSAiIjsKICAgICAgc3RhdGUudG9rZW4gPSAiIjsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCB1c2VyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgLy9jb25zdCBfdXNlcm5hbWUgPSAnaGVleVJuckYpTFoleSM2WFN7U1MnCiAgICAgIC8vY29uc3QgX3Bhc3N3b3JkID0gJ1JLXWo2PSw0dVY8R196WSRwNk5zJwogICAgICAvL3ZhciBjb25maWcgPSB7CiAgICAgIC8vIGF1dGg6IHsKICAgICAgLy8gICB1c2VybmFtZTogX3VzZXJuYW1lLAogICAgICAvLyAgICBwYXNzd29yZDogX3Bhc3N3b3JkCiAgICAgIC8vfQogICAgICAvL307CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29tbWl0KCdhdXRoX3JlcXVlc3QnKTsgLy9jb25zb2xlLmxvZyh1c2VyKTsKCiAgICAgICAgYXhpb3MucG9zdCgnaHR0cDovLzUyLjIyMC4zMi4xNDoxMDExMy9hcGkvYWRtaW4tbG9naW4nLCB1c2VyKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBpZiAocmVzcC5kYXRhLnN0YXR1cyA9PSBmYWxzZSkgewogICAgICAgICAgICAvLyBhbGVydCgiSW52YWxpZCB1c2VybmFtZS9wYXNzd29yZCIpCiAgICAgICAgICAgIC8vIHJldHVybiBmYWxzZQogICAgICAgICAgICByZWplY3QoIkludmFsaWQgdXNlcm5hbWUvcGFzc3dvcmQiKTsKICAgICAgICAgIH0gLy8gY29uc3QgdG9rZW4gPSByZXNwLmRhdGEubWVzc2FnZQogICAgICAgICAgLy8gY29uc3QgdXNlciA9IHJlc3AuZGF0YS5zdGF0dXNDb2RlCiAgICAgICAgICAvLyBjb25zdCByb2xlID0gcmVzcC5kYXRhLnVyb2xlCgoKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3AuZGF0YSk7CiAgICAgICAgICB2YXIgcmVzcG9uc2UgPSByZXNwLmRhdGE7IC8vY29uc29sZS5sb2cocmVzcC5kYXRhLmRhdGEudG9rZW4pOwoKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlc3AuZGF0YS5kYXRhLnRva2VuKTsKICAgICAgICAgIHJlc3BvbnNlLnVzZXJuYW1lID0gdXNlci5Vc2VyTmFtZTsgLy8gYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IHRva2VuCgogICAgICAgICAgY29tbWl0KCdhdXRoX3N1Y2Nlc3MnLCByZXNwb25zZSk7CiAgICAgICAgICByZXNvbHZlKHJlc3ApOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9lcnJvcicpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB0cnkgewogICAgICAgICAgY29tbWl0KCdsb2dvdXQnKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOyAvLyBkZWxldGUgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXQoKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgaXNMb2dnZWRJbjogZnVuY3Rpb24gaXNMb2dnZWRJbihzdGF0ZSkgewogICAgICByZXR1cm4gISFzdGF0ZS50b2tlbjsKICAgIH0sCiAgICBhdXRoU3RhdHVzOiBmdW5jdGlvbiBhdXRoU3RhdHVzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zdGF0dXM7CiAgICB9LAogICAgLy8gdXNlclJvbGU6IHN0YXRlID0+IHN0YXRlLnJvbGUsCiAgICAvLyB1c2VyUm9sZTogc3RhdGUgPT4gewogICAgLy8gICAgcmV0dXJuIHN0YXRlLnJvbGU7CiAgICAvLyAgfSwKICAgIGdldFVzZXJuYW1lOiBmdW5jdGlvbiBnZXRVc2VybmFtZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlcjsKICAgIH0gLy9nZXRQYXJ0bmVyOiBzdGF0ZSA9PiB7CiAgICAvLyAgcmV0dXJuIHN0YXRlLnBhcnRuZXIKICAgIC8vIH0KCiAgfQp9Ow=="},{"version":3,"sources":["C:/Users/Jacky/Downloads/materialpro-vuetify-main/materialpro-vuetify-main/src/store/modules/AuthModule.js"],"names":["axios","state","status","token","localStorage","getItem","user","role","partner","mutations","auth_request","auth_success","payload","message","username","urole","auth_error","logout","actions","login","commit","Promise","resolve","reject","post","then","resp","data","console","log","response","setItem","UserName","catch","err","removeItem","error","getters","isLoggedIn","authStatus","getUsername"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nexport default {\r\n  state: {\r\n    status: \"\",\r\n    token: localStorage.getItem(\"token\") || \"\",\r\n    user: '',\r\n    role: '',\r\n    partner: ''\r\n  },\r\n\r\n  mutations: {\r\n    auth_request(state) {\r\n      state.status = \"loading\";\r\n    },\r\n    auth_success(state, payload) {\r\n      state.status = \"success\";\r\n      state.token = payload.message;\r\n      state.user = payload.username;\r\n      state.role = payload.urole;\r\n      state.partner = payload.partner;\r\n    },\r\n    auth_error(state) {\r\n      state.status = \"error\";\r\n    },\r\n    logout(state) {\r\n      state.status = \"\";\r\n      state.token = \"\";\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    login({ commit }, user) {\r\n      //const _username = 'heeyRnrF)LZ%y#6XS{SS'\r\n      //const _password = 'RK]j6=,4uV<G_zY$p6Ns'\r\n      //var config = {\r\n      // auth: {\r\n      //   username: _username,\r\n      //    password: _password\r\n      //}\r\n      //};\r\n      return new Promise((resolve, reject) => {\r\n       commit('auth_request')\r\n       //console.log(user);\r\n        axios.post('http://52.220.32.14:10113/api/admin-login', user)\r\n          .then(resp => {\r\n            if (resp.data.status == false) {\r\n              // alert(\"Invalid username/password\")\r\n              // return false\r\n              reject(\"Invalid username/password\");\r\n            }\r\n            // const token = resp.data.message\r\n            // const user = resp.data.statusCode\r\n            // const role = resp.data.urole\r\n            console.log(resp.data);\r\n            \r\n            let response = resp.data;\r\n           //console.log(resp.data.data.token);\r\n        \r\n        \r\n            localStorage.setItem('token', resp.data.data.token)\r\n            response.username = user.UserName;\r\n            // axios.defaults.headers.common['Authorization'] = token\r\n            commit('auth_success', response)\r\n            resolve(resp)\r\n          })\r\n          .catch(err => {\r\n            commit('auth_error')\r\n            localStorage.removeItem('token')\r\n            reject(err)\r\n          })\r\n      })\r\n    },\r\n\r\n    logout({ commit }) {\r\n      return new Promise((resolve, reject) => {\r\n        try {\r\n          commit('logout')\r\n          localStorage.removeItem('token')\r\n          // delete axios.defaults.headers.common['Authorization']\r\n          resolve()\r\n        } catch (error) {\r\n          reject(error)\r\n        }\r\n      })\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    isLoggedIn: state => !!state.token,\r\n    authStatus: state => state.status,\r\n // userRole: state => state.role,\r\n   // userRole: state => {\r\n  //    return state.role;\r\n  //  },\r\n    getUsername: state => {\r\n      return state.user\r\n    },\r\n    //getPartner: state => {\r\n    //  return state.partner\r\n   // }\r\n  },\r\n};\r\n"]}]}